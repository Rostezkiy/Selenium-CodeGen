<!DOCTYPE html>
<html>
<head>
    <title>Selenium CodegGen</title>
    <meta charset="UTF-8">
    <script src="sortable.min.js"></script>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <div class="tabs">
            <button class="tab-link active" data-tab="scenario-tab">–°—Ü–µ–Ω–∞—Ä–∏–π</button>
            <button class="tab-link" data-tab="variables-tab">–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</button>
        </div>

        <!-- === –ö–û–ù–¢–ï–ù–¢ –ü–ï–†–í–û–ô –í–ö–õ–ê–î–ö–ò === -->
        <div id="scenario-tab" class="tab-content active">
            
            <!-- –ù–û–í–´–ô –ö–û–ú–ü–ê–ö–¢–ù–´–ô –ë–õ–û–ö –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
            <div class="scenario-manager settings">
                <div class="manager-row" id="collection-manager-row">
                    <span class="manager-label">–ö–æ–ª–ª–µ–∫—Ü–∏—è:</span>
                    <select id="collection-select"></select>
                    <button id="rename-collection-btn" class="icon-btn" title="–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é">‚úèÔ∏è</button>
                    <button id="delete-collection-btn" class="icon-btn danger" title="–£–¥–∞–ª–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é">üóëÔ∏è</button>
                    <button id="add-new-collection-btn" class="add-new-btn" data-type="collection">‚ûï</button>
                </div>
                <div class="manager-row" id="test-case-manager-row">
                    <span class="manager-label">–°—Ü–µ–Ω–∞—Ä–∏–π:</span>
                    <select id="test-case-select"></select>
                    <button id="rename-test-case-btn" class="icon-btn" title="–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ç–µ—Å—Ç">‚úèÔ∏è</button>
                    <button id="delete-test-case-btn" class="icon-btn danger" title="–£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç">üóëÔ∏è</button>
                    <button id="add-new-test-case-btn" class="add-new-btn" data-type="test-case">‚ûï</button>
                </div>
            </div>

            <div class="settings">
                 <div class="row" style="margin-bottom: 10px;">
                    <input type="text" id="page-name-input" placeholder="–ò–º—è PageObject (–Ω–∞–ø—Ä. LoginPage)">
                </div>
                 <div class="row checkbox-group">
                     <label class="custom-checkbox"><input type="checkbox" id="generate-pom-checkbox" checked><span>–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å POM</span></label>
                     <label class="custom-checkbox"><input type="checkbox" id="generate-test-checkbox" checked><span>–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç</span></label>
                     <label class="custom-checkbox"><input type="checkbox" id="generate-basepage-checkbox" checked><span>–í–∫–ª—é—á–∏—Ç—å –º–µ—Ç–æ–¥—ã BasePage</span></label>
                </div>
            </div>
            
            <div class="controls-wrapper">
                <div class="primary-controls">
                    <button id="startBtn">‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
                    <button id="stopBtn">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    <button id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                </div>
                <div class="secondary-controls">
                    <div class="dropdown">
                        <button id="more-actions-btn" title="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è">–ï—â—ë ‚öôÔ∏è</button>
                        <div id="more-actions-dropdown" class="dropdown-content">
                            <button id="addAssertBtn" title="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É">üïµÔ∏è –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
                            <button id="addIfBtn" title="–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–Ω—ã–π –±–ª–æ–∫ IF">‚ùì –î–æ–±–∞–≤–∏—Ç—å IF</button>
                            <button id="exportBtn" title="–≠–∫—Å–ø–æ—Ä—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è –≤ JSON">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
                            <label for="importInput" class="file-input-label" title="–ò–º–ø–æ—Ä—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è –∏–∑ JSON">üì• –ò–º–ø–æ—Ä—Ç</label>
                            <input type="file" id="importInput" accept=".json">
                            <button id="clearBtn" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —à–∞–≥–∏" class="danger-text">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="conditional-controls" class="controls-wrapper conditional-block">
                <span>–ó–∞–ø–∏—Å—å –≤ –±–ª–æ–∫: <b id="conditional-context-label">IF</b></span>
                <div>
                    <button id="addElseBtn">–î–æ–±–∞–≤–∏—Ç—å ELSE</button>
                    <button id="endBlockBtn">–ó–∞–∫–æ–Ω—á–∏—Ç—å –±–ª–æ–∫</button>
                </div>
            </div>
            
            <!-- –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –°–ü–ò–°–û–ö –° –ë–õ–û–ö–û–ú-–ó–ê–ì–õ–£–®–ö–û–ô -->
            <div id="steps-container">
                <ul id="steps-list"></ul>
                <div id="empty-state" class="empty-state-container" style="display: none;">
                    <div class="empty-state-icon">üé¶</div>
                    <div class="empty-state-title">–ó–∞–ø–∏—Å—å –Ω–µ –Ω–∞—á–∞—Ç–∞</div>
                    <div class="empty-state-text">–ù–∞–∂–º–∏—Ç–µ ¬´–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å¬ª, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –≤–∞—à –ø–µ—Ä–≤—ã–π —à–∞–≥.</div>
                </div>
            </div>
        </div>

        <!-- === –ö–û–ù–¢–ï–ù–¢ –í–¢–û–†–û–ô –í–ö–õ–ê–î–ö–ò (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) === -->
        <div id="variables-tab" class="tab-content">
            <div id="variables-section" class="settings">
                <div class="row env-manager">
                    <h4 class="section-title">–û–∫—Ä—É–∂–µ–Ω–∏—è</h4>
                    <div>
                        <select id="environment-select"></select>
                    </div>
                </div>
                <div id="variables-list"></div>
                <button id="add-variable-btn">+ –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div id="edit-modal" class="modal-backdrop">
        <div class="modal-content">
            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–≥–∞</h3>
            <input type="hidden" id="edit-step-id">
            
            <div class="form-group">
                <label for="edit-step-name">–ò–º—è —à–∞–≥–∞ (Allure):</label>
                <input type="text" id="edit-step-name">
            </div>
            
            <div class="form-group" id="edit-value-group" style="display:none;">
                <label for="edit-value">–ó–Ω–∞—á–µ–Ω–∏–µ:</label>
                <div class="flex-container">
                     <input type="text" id="edit-value">
                     <select id="edit-variable-select">
                         <option value="">-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é --</option>
                     </select>
                </div>
            </div>

            <div class="form-group" id="edit-css-class-group" style="display:none;">
                <label for="edit-css-class">–û–∂–∏–¥–∞–µ–º—ã–π CSS –∫–ª–∞—Å—Å:</label>
                <input type="text" id="edit-css-class">
            </div>

            <div class="form-group" id="edit-attribute-group" style="display:none;">
                <label for="edit-attribute-name">–ê—Ç—Ä–∏–±—É—Ç:</label>
                <input type="text" id="edit-attribute-name" placeholder="–Ω–∞–ø—Ä. 'href' –∏–ª–∏ 'data-value'">
                <label for="edit-attribute-value" class="sub-label">–û–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞:</label>
                <input type="text" id="edit-attribute-value">
            </div>

            <div class="form-group">
                <div class="label-wrapper">
                    <label for="edit-locators">–õ–æ–∫–∞—Ç–æ—Ä—ã (–æ–¥–∏–Ω –Ω–∞ —Å—Ç—Ä–æ–∫—É):</label>
                    <button id="reselect-element-btn" title="–í—ã–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∑–∞–Ω–æ–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ">üéØ –í—ã–±—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                </div>
                <textarea id="edit-locators"></textarea>
            </div>

            <div class="form-group">
                <label for="edit-variable">–ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (–¥–ª—è DDT):</label>
                <input type="text" id="edit-variable">
            </div>

            <div class="form-group modal-actions">
                <button id="cancel-edit-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="save-edit-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>
    <div id="toast-notification" class="toast"></div>
    <script src="popup.js"></script>
</body>
</html>