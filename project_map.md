# Autotest Generator Project Map

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –Ω–∞ Python (Selenium + Allure) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –°–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **Backend-—Å–µ—Ä–≤–µ—Ä** –Ω–∞ Python FastAPI, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —à–∞–≥–∞—Ö –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Page Object Model, —É—Å–ª–æ–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤, Data-Driven Testing –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Allure.
2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Chrome** (Manifest V3), –∫–æ—Ç–æ—Ä–æ–µ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–ª–∏–∫–∏, –≤–≤–æ–¥, –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –∏ —Ç.–¥.), —Å–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç–ª–µ–º–µ–Ω—Ç–∞—Ö (–ª–æ–∫–∞—Ç–æ—Ä—ã, –∞—Ç—Ä–∏–±—É—Ç—ã) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è UI-–∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å—Ä–µ–¥–∞—Ö —Å —á–∞—Å—Ç—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤—ë—Ä—Å—Ç–∫–∏, –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é ¬´–ª–µ—á–∞—â–∏—Ö¬ª –ª–æ–∫–∞—Ç–æ—Ä–æ–≤ (healing locators) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (FastAPI)

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ FastAPI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQLAlchemy (SQLite) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π:

- **`app/main.py`** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä FastAPI, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç CORS (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏), –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã –∏–∑ `endpoints.py`.
- **`app/database.py`** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ SQLite (`test_generator.db`), —Å–æ–∑–¥–∞–Ω–∏–µ engine –∏ —Å–µ—Å—Å–∏–π.
- **`app/models.py`** ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ SQLAlchemy:
  - `User` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, email + —Ö–µ—à –ø–∞—Ä–æ–ª—è)
  - `License` (–ª–∏—Ü–µ–Ω–∑–∏–∏ —Å –∫–ª—é—á–æ–º, –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é).
- **`app/schemas.py`** ‚Äî Pydantic-—Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö/–∏—Å—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
  - `Step`, `GenerationRequest`, `GenerationResponse`, `TestCaseData`.
- **`app/crud.py`** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î: –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ –ø–æ –∫–ª—é—á—É, –ø—Ä–æ–≤–µ—Ä–∫–∞ –µ—ë –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏.
- **`app/dependencies.py`** ‚Äî FastAPI-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  - `get_db` ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ—Å—Å–∏—é –ë–î;
  - `get_valid_license` ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Authorization: Bearer <key>` –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ.
- **`app/code_generator.py`** ‚Äî —è–¥—Ä–æ –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞. –°–æ–¥–µ—Ä–∂–∏—Ç:
  - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—É `BASE_PAGE_PYTHON_CODE` ‚Äî –≥–æ—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å `BasePage` —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –Ω–∞–¥—ë–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–∫–ª–∏–∫, –≤–≤–æ–¥, –æ–∂–∏–¥–∞–Ω–∏–µ –∏ —Ç.–¥.) –∏ healing-–ª–æ–∫–∞—Ç–æ—Ä–∞–º–∏.
  - –§—É–Ω–∫—Ü–∏–∏ `_generate_element_name`, `_sanitize_for_function_name` –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º—ë–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤.
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `generate_full_code_on_server`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π Python-–∫–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –∏ –æ–ø—Ü–∏–π.
  - –õ–æ–≥–∏–∫—É –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è Page Object Model (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ª–æ–∫–∞—Ç–æ—Ä–∞–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏), –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ Allure, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è BasePage –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- **`app/api/v1/endpoints.py`** ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã API:
  - `POST /api/v1/generate` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ (—Ç—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏).
  - `GET /api/v1/validate` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏.
  - `POST /api/v1/dev/create-user-and-license` ‚Äî dev-–º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ª–∏—Ü–µ–Ω–∑–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).
- **`app/core/config.py`** ‚Äî –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª (–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è).

### Frontend (Chrome Extension)

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –º–æ–¥–µ–ª–∏ Manifest V3 –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —á–∞—Å—Ç–µ–π:

- **`client/manifest.json`** ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
  - permissions: `storage`, `activeTab`, `scripting`, `contextMenus`, `offscreen`, `downloads`, `sidePanel`.
  - host_permissions: `http://localhost:11434/` (–¥–ª—è Ollama) –∏ `<all_urls>`.
  - background service worker: `background.js`.
  - side panel: `popup.html` (–æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).
  - content script: `content_script.js` (–∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã).
  - options page: `options.html`.
- **`client/background.js`** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç:
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∑–∞–ø–∏—Å–∏ (—Ñ–ª–∞–≥–∏ `isRecording`, `isAssertMode`, —É—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏).
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç popup, content script –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é.
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `chrome.storage.local` (—Ç–µ—Å—Ç-–∫–µ–π—Å—ã, –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ).
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –±–µ–∫–µ–Ω–¥ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ (—Å –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–º –∫–ª—é—á–æ–º).
  - –†–∞–±–æ—Ç–∞ —Å offscreen document –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤.
- **`client/content_script.js`** ‚Äî —Å–∫—Ä–∏–ø—Ç, –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è `click`, `input`, `change`, `dblclick`, `contextmenu`.
  - –°–æ–±–∏—Ä–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ (—Å–µ–ª–µ–∫—Ç–æ—Ä—ã, –∞—Ç—Ä–∏–±—É—Ç—ã, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã).
  - –†–µ–∞–ª–∏–∑—É–µ—Ç —Ä–µ–∂–∏–º ¬´–¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏¬ª (assert mode) —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º –∫—É—Ä—Å–æ—Ä–æ–º.
  - –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –≤ —Å–ø–∏—Å–∫–µ —à–∞–≥–æ–≤.
- **`client/popup.js`** ‚Äî –ª–æ–≥–∏–∫–∞ side panel:
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —à–∞–≥–∏, –∫–æ–ª–ª–µ–∫—Ü–∏–∏, —Ç–µ—Å—Ç-–∫–µ–π—Å—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—å—é (—Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø), –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫, —É—Å–ª–æ–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤.
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å POM, —Ç–µ—Å—Ç, BasePage).
  - Drag-and-drop —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —à–∞–≥–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sortable.min.js`).
- **`client/options.js`** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LLM (Ollama URL, –º–æ–¥–µ–ª—å), –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ data-–∞—Ç—Ä–∏–±—É—Ç–∞ –¥–ª—è –ª–æ–∫–∞—Ç–æ—Ä–æ–≤, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ª–æ–∫–∞—Ç–æ—Ä–æ–≤, –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞.
- **`client/offscreen.js`** (–Ω–µ –ø–æ–∫–∞–∑–∞–Ω –≤ —Å–ø–∏—Å–∫–µ —Ñ–∞–π–ª–æ–≤, –Ω–æ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ canvas.
- HTML/CSS —Ñ–∞–π–ª—ã: `popup.html`, `options.html`, `offscreen.html`, `popup.css`.

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç side panel —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –≤–≤–æ–¥–∏—Ç –∏–º—è –∫–ª–∞—Å—Å–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å¬ª.
2. Content script –Ω–∞—á–∏–Ω–∞–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ, –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –≤ background, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —à–∞–≥–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏.
3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–ø—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥¬ª.
4. Background —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `http://127.0.0.1:8000/api/v1/generate`, –≤–∫–ª—é—á–∞—è –≤—Å–µ —à–∞–≥–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
5. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–π –∫–ª—é—á, –≤—ã–∑—ã–≤–∞–µ—Ç `generate_full_code_on_server` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Python-–∫–æ–¥.
6. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–ø–∏—Ä—É–µ—Ç –∫–æ–¥ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ (–ª–∏–±–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É).

---

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (State)

–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `chrome.storage.local` –ø–æ–¥ –∫–ª—é—á–æ–º `autotestProState`. –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```javascript
{
  isRecording: boolean,
  isAssertMode: boolean,
  isRecordingIfCondition: boolean,
  isRecordingInConditionalBlock: boolean,
  conditionalRecordingContext: 'then' | 'else',
  environments: { dev: {‚Ä¶}, prod: {‚Ä¶} },
  activeEnvironment: string,
  collections: { [id]: { id, name } },
  testCases: {
    [id]: {
      id,
      name,
      collectionId,
      recordedSteps: Step[],
      pageClassName: string
    }
  },
  activeCollectionId: string,
  activeTestCaseId: string,
  // ‚Ä¶ –¥—Ä—É–≥–∏–µ —Å–ª—É–∂–µ–±–Ω—ã–µ —Ñ–ª–∞–≥–∏
}
```

–ö–∞–∂–¥—ã–π —à–∞–≥ (`Step`) —Å–æ–¥–µ—Ä–∂–∏—Ç:

- `id`, `type`, `subType`
- `data` (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ)
- `locators` (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –≤–∏–¥–∞ `"(By.CSS_SELECTOR, '‚Ä¶')"`)
- `allureStep` (—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è Allure)
- `code` (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `methodDefinition` –∏ `methodCall`)
- `variableName`, `variableForValue` (–¥–ª—è DDT)
- `screenshot` (data URL –æ–±—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞)

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

–ê–ª–≥–æ—Ä–∏—Ç–º `generate_full_code_on_server`:

1. **–°–±–æ—Ä –ª–æ–∫–∞—Ç–æ—Ä–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤ POM**: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ —à–∞–≥–æ–≤ –≤—Å–µ—Ö —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –¥–ª—è –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ª–æ–∫–∞—Ç–æ—Ä–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –º–µ—Ç–æ–¥–æ–≤.
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ Page Object** (–µ—Å–ª–∏ `options.generatePom`):
   - –ò–º–ø–æ—Ä—Ç—ã (`BasePage`, `By`, `allure`).
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ç–æ—Ä–æ–≤ –∫–∞–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–ª–∞—Å—Å–∞.
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ (–∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –¥–µ–∫–æ—Ä–∏—Ä—É–µ—Ç—Å—è `@allure.step`).
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏** (–µ—Å–ª–∏ `options.generateTest`):
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞ (`sanitize_for_function_name`).
   - –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `@allure.feature` (–∫–æ–ª–ª–µ–∫—Ü–∏—è) –∏ `@allure.title` (–∏–º—è —Ç–µ—Å—Ç–∞).
   - –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Page Object.
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ DDT-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
   - –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ (—Å —É—á—ë—Ç–æ–º –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤).
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ BasePage** (–µ—Å–ª–∏ `options.generateBasePage`): –≤ –≤—ã–≤–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ –∫–ª–∞—Å—Å–∞ `BasePage` —Å healing-–º–µ—Ç–æ–¥–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º.

–ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π concatenation —ç—Ç–∏—Ö —á–∞—Å—Ç–µ–π.

### –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å ¬´–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äì –ª–∏—Ü–µ–Ω–∑–∏—è¬ª. –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <license_key>`. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

- –ù–∞–ª–∏—á–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ —Å —Ç–∞–∫–∏–º –∫–ª—é—á–æ–º –≤ –ë–î.
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (`is_active`).
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (`expires_at`).

Dev-—ç–Ω–¥–ø–æ–∏–Ω—Ç `create-user-and-license` —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º (bcrypt) –∏ –ª–∏—Ü–µ–Ω–∑–∏—é —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º UUID –∫–ª—é—á–æ–º, –¥–µ–π—Å—Ç–≤—É—é—â—É—é 30 –¥–Ω–µ–π.

### –†–∞–±–æ—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º

- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é**: –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´–ü—Ä–æ–≤–µ—Ä–∫–∏¬ª, ¬´–û–∂–∏–¥–∞–Ω–∏—è¬ª, ¬´–î–µ–π—Å—Ç–≤–∏—è¬ª –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–≥–æ–≤ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è side panel.
- **–†–µ–∂–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∏ (assert mode)**: –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `crosshair`, –∫–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —à–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `assertVisible`).
- **–£—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏ (IF/ELSE)**: –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —à–∞–≥–∏ –≤–Ω—É—Ç—Ä–∏ —É—Å–ª–æ–≤–∏—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥–∏ `isRecordingIfCondition` –∏ `isRecordingInConditionalBlock`, –∞ —Ç–∞–∫–∂–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —à–∞–≥–æ–≤.
- **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**: –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —à–∞–≥ –≤ —Å–ø–∏—Å–∫–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è —Å–∏–Ω–∏–º dashed outline.

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM (Ollama)

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ LLM (—á–µ—Ä–µ–∑ Ollama) –¥–ª—è:

- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π —à–∞–≥–æ–≤ Allure.
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö CSS-—Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ HTML-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `chrome.storage.sync` –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ options.

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### Python (backend)

–£–∫–∞–∑–∞–Ω—ã –≤ `requirements.txt`:

```
fastapi
uvicorn[standard]
sqlalchemy
pydantic
python-jose[cryptography]
passlib[bcrypt]
requests
```

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ—Ä—Å–∏–∏ –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã**, –Ω–æ –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- FastAPI ^0.104.0 (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Pydantic v2)
- SQLAlchemy ^2.0.0
- python-jose –¥–ª—è JWT (—Ö–æ—Ç—è –≤ –∫–æ–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –æ—Å—Ç–∞–≤–ª–µ–Ω–æ –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- passlib –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- requests –¥–ª—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

**–ù–µ—è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (–Ω—É–∂–Ω—ã –¥–ª—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–æ –Ω–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞):

- `selenium` (–≤–µ—Ä—Å–∏–∏ 4.x)
- `allure-pytest` (–∏–ª–∏ `allure-python-commons`)
- `pytest`

### –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

- **Manifest V3** ‚Äî —Ç—Ä–µ–±—É–µ—Ç Chrome 88+.
- **–ò–∫–æ–Ω–∫–∏** ‚Äî –ø–∞–ø–∫–∞ `client/icons` (–Ω–µ –ø–æ–∫–∞–∑–∞–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ —Ñ–∞–π–ª–æ–≤, –Ω–æ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ manifest.json).
- **–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
  - `sortable.min.js` (–¥–ª—è drag-and-drop –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è —à–∞–≥–æ–≤).

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

- **Ollama** (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä LLM) ‚Äî –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π —à–∞–≥–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–∂–∏–¥–∞–µ—Ç—Å—è –Ω–∞ `http://localhost:11434`, –º–æ–¥–µ–ª—å `llama3`.

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–µ—Ä–≤–µ—Ä

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–¥–∞—ë—Ç—Å—è –≤ –∫–æ–¥–µ (`app/database.py`):

- `DATABASE_URL = "sqlite:///./test_generator.db"` ‚Äî SQLite —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
- CORS —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (`origins = ["*"]`) ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

–î–ª—è production —Å–ª–µ–¥—É–µ—Ç:

1. –ó–∞–º–µ–Ω–∏—Ç—å `DATABASE_URL` –Ω–∞ PostgreSQL/MySQL.
2. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏.
3. –í—ã–Ω–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `app/core/config.py`).

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `chrome.storage.sync` (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏) –∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—É `options.html`:

- `useLlm` (boolean) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ LLM.
- `ollamaUrl` (string) ‚Äî URL Ollama —Å–µ—Ä–≤–µ—Ä–∞.
- `llmModel` (string) ‚Äî –º–æ–¥–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `llama3`).
- `customTestId` (string) ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π data-–∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –ª–æ–∫–∞—Ç–æ—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `data-testid`).
- `locatorStrategy` (`'smart'`, `'css'`, `'xpath'`) ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–±–æ—Ä–∞ –ª–æ–∫–∞—Ç–æ—Ä–æ–≤.
- `excludeXpath` (boolean) ‚Äî –∏—Å–∫–ª—é—á–∞—Ç—å –ª–∏ XPath –∏–∑ —Å–ø–∏—Å–∫–∞ –ª–æ–∫–∞—Ç–æ—Ä–æ–≤.
- `licenseKey` (string) ‚Äî –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–π –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É.

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)

### 1. –ó–∞–ø—É—Å–∫ backend-—Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —É–∂–µ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω)
cd autotest_generator

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Windows, cmd)
python -m venv .venv
.venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ FastAPI –Ω–∞ http://127.0.0.1:8000
uvicorn app.main:app --reload --host 127.0.0.1 --port 8000
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–ª—è PowerShell –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.\.venv\Scripts\Activate.ps1`.

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã)

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—É—é —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—É—é —Å–µ—Å—Å–∏—é –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
curl -X POST "http://127.0.0.1:8000/api/v1/dev/create-user-and-license?email=user@example.com"
```

–í –æ—Ç–≤–µ—Ç–µ –±—É–¥–µ—Ç JSON —Å –ø–æ–ª–µ–º `license_key`. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á.

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ Chrome

1. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `chrome://extensions/`.
2. –í–∫–ª—é—á–∏—Ç–µ **¬´–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞¬ª** (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É).
3. –ù–∞–∂–º–∏—Ç–µ **¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ¬ª**.
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `autotest_generator/client`.
5. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ; –∑–∞–∫—Ä–µ–ø–∏—Ç–µ –µ–≥–æ –Ω–∞ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

1. –©—ë–ª–∫–Ω–∏—Ç–µ –ø–æ –∏–∫–æ–Ω–∫–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí ¬´–ü–∞—Ä–∞–º–µ—Ç—Ä—ã¬ª (–∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `chrome://extensions/`, –Ω–∞–π–¥–∏—Ç–µ Selenium CodeGen –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´Details¬ª ‚Üí ¬´Extension options¬ª).
2. –í –ø–æ–ª–µ **¬´–õ–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–π –∫–ª—é—á¬ª** –≤—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –Ω–∞ —à–∞–≥–µ 2.
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ LLM (–µ—Å–ª–∏ —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω Ollama) –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ª–æ–∫–∞—Ç–æ—Ä–æ–≤.
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### 5. –ó–∞–ø–∏—Å—å —Ç–µ—Å—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è side panel.
3. –í–≤–µ–¥–∏—Ç–µ **¬´–ò–º—è –∫–ª–∞—Å—Å–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã¬ª** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LoginPage`).
4. –ù–∞–∂–º–∏—Ç–µ **¬´‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å¬ª**.
5. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω—É–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–∫–ª–∏–∫–∏, –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞, –≤—ã–±–æ—Ä –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –∏ —Ç.–¥.).
6. –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞–∂–º–∏—Ç–µ **¬´üïµÔ∏è –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É¬ª** –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
7. –î–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **¬´‚ùì –î–æ–±–∞–≤–∏—Ç—å IF¬ª**.
8. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –Ω–∞–∂–º–∏—Ç–µ **¬´‚èπÔ∏è –°—Ç–æ–ø¬ª**.

### 6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

1. –í side panel —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–º–µ—á–µ–Ω—ã –Ω—É–∂–Ω—ã–µ –æ–ø—Ü–∏–∏:
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å POM
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å BasePage (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
2. –ù–∞–∂–º–∏—Ç–µ **¬´üìã –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥¬ª**.
3. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –ª–∏—Ü–µ–Ω–∑–∏—è –≤–∞–ª–∏–¥–Ω–∞, –∫–æ–¥ –±—É–¥–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.
4. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ —Ñ–∞–π–ª `.py` –≤ –≤–∞—à–µ–º —Ç–µ—Å—Ç–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

### 7. –ó–∞–ø—É—Å–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö `selenium`, `allure-pytest` –∏ –¥—Ä–∞–π–≤–µ—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ChromeDriver).

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ç–µ—Å—Ç–æ–≤
pip install selenium allure-pytest pytest

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ (–ø—Ä–∏–º–µ—Ä)
pytest your_generated_test.py --alluredir=./allure-results
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
autotest_generator/
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ test_generator.db                     # SQLite –±–∞–∑–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py                           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ database.py                       # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ models.py                         # –ú–æ–¥–µ–ª–∏ User, License
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                        # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ crud.py                           # –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ dependencies.py                   # FastAPI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ code_generator.py                 # –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ (—è–¥—Ä–æ)
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ v1/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ endpoints.py              # –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API
‚îÇ   ‚îî‚îÄ‚îÄ core/
‚îÇ       ‚îî‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ config.py                     # –ü—É—Å—Ç–æ (—Ä–µ–∑–µ—Ä–≤ –ø–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é)
‚îî‚îÄ‚îÄ client/                               # –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Chrome
    ‚îú‚îÄ‚îÄ manifest.json
    ‚îú‚îÄ‚îÄ background.js                     # Service worker
    ‚îú‚îÄ‚îÄ content_script.js                 # –°–∫—Ä–∏–ø—Ç, –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º—ã–π –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    ‚îú‚îÄ‚îÄ popup.js                          # –õ–æ–≥–∏–∫–∞ side panel
    ‚îú‚îÄ‚îÄ popup.html
    ‚îú‚îÄ‚îÄ popup.css
    ‚îú‚îÄ‚îÄ options.js                        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ options.html
    ‚îú‚îÄ‚îÄ offscreen.js                      # –û–±—Ä–µ–∑–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
    ‚îú‚îÄ‚îÄ offscreen.html
    ‚îú‚îÄ‚îÄ sortable.min.js                   # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    ‚îî‚îÄ‚îÄ icons/                            (–Ω–µ –ø–æ–∫–∞–∑–∞–Ω—ã)
```

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è Chrome, –Ω–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ª—é–±–æ–º Chromium-–±—Ä–∞—É–∑–µ—Ä–µ (Edge, Brave, Opera).
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ CORS –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∞ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–π –∫–ª—é—á –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å HTTPS –∏ JWT-—Ç–æ–∫–µ–Ω—ã.
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –ö–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω –º–æ–¥—É–ª—å–Ω–æ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —à–∞–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, drag-and-drop) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —à–∞–≥–æ–≤ (—Å–æ—Ç–Ω–∏). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–∑–±–∏–≤–∞—Ç—å —Ç–µ—Å—Ç-–∫–µ–π—Å—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –≤–Ω—É—Ç—Ä–∏ shadow DOM –∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ—Ö–æ–¥—ã —á–µ—Ä–µ–∑ History API). –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.